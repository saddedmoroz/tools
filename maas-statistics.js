// ==UserScript==
// @name			Maas статистика
// @version			1.9
// @description		Отображает статистику работы
// @updateURL		https://raw.githubusercontent.com/saddedmoroz/tools/master/maas-statistics.js
// @downloadURL		https://raw.githubusercontent.com/saddedmoroz/tools/master/maas-statistics.js
// @author			saddedmoroz
// @match			https://moderation.avito.ru/line/*
// ==/UserScript==

'use strict';

const _0x20d067=_0x5866;(function(_0x37db5f,_0x47701b){const _0x2f8ed3=_0x5866,_0x1ffabf=_0x37db5f();while(!![]){try{const _0x215da9=parseInt(_0x2f8ed3(0x10c))/0x1+-parseInt(_0x2f8ed3(0x118))/0x2+-parseInt(_0x2f8ed3(0x10f))/0x3*(parseInt(_0x2f8ed3(0xf8))/0x4)+-parseInt(_0x2f8ed3(0xf4))/0x5*(-parseInt(_0x2f8ed3(0x115))/0x6)+-parseInt(_0x2f8ed3(0xf5))/0x7*(parseInt(_0x2f8ed3(0x116))/0x8)+-parseInt(_0x2f8ed3(0x10d))/0x9+parseInt(_0x2f8ed3(0x113))/0xa;if(_0x215da9===_0x47701b)break;else _0x1ffabf['push'](_0x1ffabf['shift']());}catch(_0x16f73c){_0x1ffabf['push'](_0x1ffabf['shift']());}}}(_0x4c5a,0x2715a));const audioTick=new Audio('https://flukeout.github.io/simple-sounds/sounds/coin.mp3');function _0x5866(_0x436e3c,_0x1aa157){const _0x4c5ad4=_0x4c5a();return _0x5866=function(_0x586634,_0x2b9410){_0x586634=_0x586634-0xec;let _0x10a243=_0x4c5ad4[_0x586634];return _0x10a243;},_0x5866(_0x436e3c,_0x1aa157);}document['body'][_0x20d067(0xfe)](_0x20d067(0x10b),'<div\x20style=\x22bottom:\x201em;\x20position:\x20fixed;\x20right:\x202em;\x22><span>Итого:\x20</span><span\x20id=\x22count\x22\x20style=\x22padding-right:\x2030px;\x22>0</span><span>За\x20текущий\x20час:\x20</span><span\x20id=\x22cph\x22\x20style=\x22padding-right:\x2030px;\x22>0</span><span>Неактивен:\x20</span><span\x20id=\x22time\x22>0</span></div>');function _0x4c5a(){const _0x5a1608=['600035QPAzWh','616VfwdwO','keyup','hour','4EnAYgp','Сбросить\x20статистику\x20для\x20ВСЕХ\x20модерации?','splice','now','getHours','div.coreDocument-module-content-vaCPV','insertAdjacentHTML','confirm','innerText','metaKey','getElementById','click','count','querySelector','BracketLeft','altKey','notifyTimeout','push','target','beforeend','178531juhtGc','382293EELqEH','addEventListener','250389IGVtAs','removeItem','length','stringify','3514350NqJJrb','ctrlKey','6exGqKd','21608MtHVqg','code','252510teubSZ','cph','shiftKey','setTime','scriptDataArray','play','match','url','location','BracketRight','Через\x20сколько\x20секунд\x20неактивности\x20оповещать?\x0a0\x20=\x20без\x20уведомления\x20(по-умолчанию)\x0a600\x20=\x2010\x20минут\x0a1200\x20=\x2020\x20минут','href','contains'];_0x4c5a=function(){return _0x5a1608;};return _0x4c5a();}const span_time=document[_0x20d067(0x102)]('time'),span_count=document['getElementById'](_0x20d067(0x104)),span_cph=document[_0x20d067(0x102)](_0x20d067(0x119)),date_time=new Date();let scriptData=null,scriptDataArray=null,scriptID=null;InitScriptData();let time_seconds=0x0;setInterval(()=>{const _0x4ecabe=_0x20d067;if(!Boolean(scriptData))return;span_count['innerText']=scriptData['count'],span_cph[_0x4ecabe(0x100)]=scriptData['cph'],time_seconds=parseInt((Date[_0x4ecabe(0xfb)]()-date_time)/0x3e8);if(time_seconds<0x3c)span_time[_0x4ecabe(0x100)]=time_seconds;else span_time[_0x4ecabe(0x100)]=parseInt(time_seconds/0x3c)+':'+time_seconds%0x3c;if(scriptData[_0x4ecabe(0x108)]){if(time_seconds>0x0&&time_seconds%scriptData[_0x4ecabe(0x108)]==0x0)audioTick[_0x4ecabe(0xec)]();}},0x3e8);function InitScriptData(){const _0x27aa3d=_0x20d067;let _0x3066c5=window[_0x27aa3d(0xef)][_0x27aa3d(0xf2)][_0x27aa3d(0xed)](/line\/.+?\//gi);if(Boolean(_0x3066c5))_0x3066c5=_0x3066c5[0x0];else _0x3066c5='';scriptData={'url':_0x3066c5,'notifyTimeout':0x0,'hour':date_time['getHours'](),'count':0x0,'cph':0x0};if(Boolean(localStorage[_0x27aa3d(0x11c)])){scriptDataArray=JSON['parse'](localStorage[_0x27aa3d(0x11c)]);let _0x18ecfa=![];for(let _0x2860aa=0x0;_0x2860aa<scriptDataArray[_0x27aa3d(0x111)];_0x2860aa++){const _0x17f453=scriptDataArray[_0x2860aa];if(_0x17f453[_0x27aa3d(0xee)]===scriptData[_0x27aa3d(0xee)]){scriptData=_0x17f453,scriptID=_0x2860aa,_0x18ecfa=!![];break;}}!_0x18ecfa&&(scriptID=scriptDataArray[_0x27aa3d(0x109)](scriptData)-0x1,localStorage[_0x27aa3d(0x11c)]=JSON['stringify'](scriptDataArray));}else scriptID=0x0,scriptDataArray=new Array(scriptData),localStorage[_0x27aa3d(0x11c)]=JSON[_0x27aa3d(0x112)](scriptDataArray);}function IncrementCounters(){const _0x48d4fb=_0x20d067;time_seconds=0x0,scriptData[_0x48d4fb(0x104)]+=0x1;const _0x95cacf=date_time[_0x48d4fb(0xfc)]();date_time[_0x48d4fb(0x11b)](Date['now']()),scriptData[_0x48d4fb(0x119)]=scriptData[_0x48d4fb(0xf7)]==date_time[_0x48d4fb(0xfc)]()?scriptData[_0x48d4fb(0x119)]+0x1:0x1,scriptData[_0x48d4fb(0xf7)]=_0x95cacf,scriptDataArray[scriptID]=scriptData,localStorage[_0x48d4fb(0x11c)]=JSON[_0x48d4fb(0x112)](scriptDataArray);}document[_0x20d067(0x10e)](_0x20d067(0x103),_0x440e7f=>{const _0x20be8f=_0x20d067,_0x15195b=document[_0x20be8f(0x105)]('button.moderateButton-module-button-AeBfy');if(!Boolean(_0x15195b))return;if(_0x15195b[_0x20be8f(0xf3)](_0x440e7f[_0x20be8f(0x10a)]))IncrementCounters();}),document[_0x20d067(0x10e)](_0x20d067(0xf6),_0x5916d8=>{const _0x117acb=_0x20d067;switch(!![]){case _0x5916d8[_0x117acb(0x107)]:case _0x5916d8[_0x117acb(0x101)]:return;}switch(_0x5916d8[_0x117acb(0x117)]){case'Space':{if(!Boolean(document[_0x117acb(0x105)](_0x117acb(0xfd))))break;IncrementCounters();break;}case _0x117acb(0x106):{if(_0x5916d8[_0x117acb(0x114)]&&!_0x5916d8[_0x117acb(0x11a)]){if(!window[_0x117acb(0xff)]('Сбросить\x20статистику\x20для\x20текущей\x20модерации?'))break;scriptDataArray[_0x117acb(0xfa)](scriptID,0x1),localStorage[_0x117acb(0x11c)]=JSON['stringify'](scriptDataArray),InitScriptData();break;}if(_0x5916d8[_0x117acb(0x114)]&&_0x5916d8[_0x117acb(0x11a)]){if(!window[_0x117acb(0xff)](_0x117acb(0xf9)))break;localStorage[_0x117acb(0x110)](_0x117acb(0x11c)),InitScriptData();break;}break;}case _0x117acb(0xf0):{if(!_0x5916d8[_0x117acb(0x114)])break;let _0xb6a09c=parseInt(prompt(_0x117acb(0xf1),scriptData[_0x117acb(0x108)]));if(_0xb6a09c>=0x0)scriptData[_0x117acb(0x108)]=_0xb6a09c;else scriptData[_0x117acb(0x108)]=0x0;scriptDataArray[scriptID]=scriptData,localStorage[_0x117acb(0x11c)]=JSON['stringify'](scriptDataArray);break;}}return;});
