// ==UserScript==
// @name			Maas статистика
// @version			1.6
// @description		Отображает статистику работы
// @updateURL		https://raw.githubusercontent.com/saddedmoroz/tools/master/maas-statistics.js
// @downloadURL		https://raw.githubusercontent.com/saddedmoroz/tools/master/maas-statistics.js
// @author			t.me/yreawesome
// @match			https://moderation.avito.ru/line/*
// ==/UserScript==

'use strict';

const _0x3b0d93=_0x48ae;function _0x48ae(_0x4b78af,_0xf03431){const _0x18fc32=_0x18fc();return _0x48ae=function(_0x48ae68,_0x2c5205){_0x48ae68=_0x48ae68-0x99;let _0x48ed3e=_0x18fc32[_0x48ae68];return _0x48ed3e;},_0x48ae(_0x4b78af,_0xf03431);}(function(_0x5cd144,_0x4a8442){const _0x3850ec=_0x48ae,_0x55fe69=_0x5cd144();while(!![]){try{const _0x368ffb=parseInt(_0x3850ec(0xbc))/0x1*(-parseInt(_0x3850ec(0xad))/0x2)+parseInt(_0x3850ec(0x9e))/0x3+parseInt(_0x3850ec(0xa9))/0x4+-parseInt(_0x3850ec(0xaa))/0x5+parseInt(_0x3850ec(0xc1))/0x6*(parseInt(_0x3850ec(0x9f))/0x7)+parseInt(_0x3850ec(0xb7))/0x8*(parseInt(_0x3850ec(0xb5))/0x9)+-parseInt(_0x3850ec(0xb1))/0xa;if(_0x368ffb===_0x4a8442)break;else _0x55fe69['push'](_0x55fe69['shift']());}catch(_0xd2933b){_0x55fe69['push'](_0x55fe69['shift']());}}}(_0x18fc,0xd2278));const audioTick=new Audio(_0x3b0d93(0xc4));document[_0x3b0d93(0xb8)][_0x3b0d93(0xae)]('beforeend','<div\x20style=\x22bottom:\x201em;\x20position:\x20fixed;\x20right:\x202em;\x22><span>Итого:\x20</span><span\x20id=\x22count\x22\x20style=\x22padding-right:\x2030px;\x22>0</span><span>За\x20текущий\x20час:\x20</span><span\x20id=\x22cph\x22\x20style=\x22padding-right:\x2030px;\x22>0</span><span>Неактивен:\x20</span><span\x20id=\x22time\x22>0</span></div>');const span_time=document['getElementById'](_0x3b0d93(0xc8)),span_count=document['getElementById'](_0x3b0d93(0xb0)),span_cph=document[_0x3b0d93(0xa8)](_0x3b0d93(0xa5)),date_time=new Date();let scriptData=null,scriptDataArray=null,scriptID=null;InitScriptData();let time_seconds=0x0;setInterval(()=>{const _0x18cef9=_0x3b0d93;if(!Boolean(scriptData))return;span_count[_0x18cef9(0xc7)]=scriptData[_0x18cef9(0xb0)],span_cph[_0x18cef9(0xc7)]=scriptData[_0x18cef9(0xa5)],time_seconds=parseInt((Date[_0x18cef9(0xc2)]()-date_time)/0x3e8);if(time_seconds<0x3c)span_time[_0x18cef9(0xc7)]=time_seconds;else span_time[_0x18cef9(0xc7)]=parseInt(time_seconds/0x3c)+':'+time_seconds%0x3c;if(scriptData[_0x18cef9(0xa0)]){if(time_seconds>0x0&&time_seconds%scriptData[_0x18cef9(0xa0)]==0x0)audioTick[_0x18cef9(0xb9)]();}},0x3e8);function InitScriptData(){const _0x19627e=_0x3b0d93;scriptData={'url':window[_0x19627e(0x9d)][_0x19627e(0xb6)],'notifyTimeout':0x0,'date':date_time[_0x19627e(0xc3)](),'hour':date_time[_0x19627e(0xa1)](),'count':0x0,'cph':0x0};if(Boolean(localStorage[_0x19627e(0xc5)])){scriptDataArray=JSON['parse'](localStorage[_0x19627e(0xc5)]);let _0x271c03=![];for(let _0x424dab=0x0;_0x424dab<scriptDataArray[_0x19627e(0xa2)];_0x424dab++){const _0x10780e=scriptDataArray[_0x424dab];if(_0x10780e[_0x19627e(0xc9)]===scriptData[_0x19627e(0xc9)]){scriptData=_0x10780e,scriptID=_0x424dab,_0x271c03=!![];break;}}!_0x271c03&&(scriptID=scriptDataArray[_0x19627e(0xb3)](scriptData)-0x1,localStorage[_0x19627e(0xc5)]=JSON['stringify'](scriptDataArray));}else scriptID=0x0,scriptDataArray=new Array(scriptData),localStorage['scriptDataArray']=JSON[_0x19627e(0xbd)](scriptDataArray);}function _0x18fc(){const _0x4baef0=['2300094FlFmIp','237097sCspzA','notifyTimeout','getHours','length','BracketLeft','altKey','cph','shiftKey','Сбросить\x20статистику\x20для\x20текущей\x20модерации?','getElementById','1086956NOVAdw','862520YULVNE','button.moderateButton-module-button-AeBfy','Space','63018QHebPU','insertAdjacentHTML','target','count','11830360wvMpVo','hour','push','Через\x20сколько\x20секунд\x20неактивности\x20оповещать?\x0a0\x20=\x20без\x20уведомления\x20(по-умолчанию)\x0a600\x20=\x2010\x20минут\x0a1200\x20=\x2020\x20минут','4968171fRHRzR','href','24yKyoUQ','body','play','splice','querySelector','27dbRSgq','stringify','Сбросить\x20статистику\x20для\x20ВСЕХ\x20модерации?','BracketRight','div.coreDocument-module-content-vaCPV','66bHZtqF','now','getDate','https://flukeout.github.io/simple-sounds/sounds/coin.mp3','scriptDataArray','addEventListener','innerText','time','url','confirm','ctrlKey','removeItem','keyup','location'];_0x18fc=function(){return _0x4baef0;};return _0x18fc();}function IncrementCounters(){const _0x3b4761=_0x3b0d93;time_seconds=0x0,scriptData[_0x3b4761(0xb0)]+=0x1;const _0x2e8c54=date_time[_0x3b4761(0xa1)]();date_time['setTime'](Date[_0x3b4761(0xc2)]()),scriptData[_0x3b4761(0xa5)]=scriptData['hour']==date_time['getHours']()?scriptData[_0x3b4761(0xa5)]+0x1:0x1,scriptData[_0x3b4761(0xb2)]=_0x2e8c54,scriptDataArray[scriptID]=scriptData,localStorage['scriptDataArray']=JSON[_0x3b4761(0xbd)](scriptDataArray);}document[_0x3b0d93(0xc6)]('click',_0x4cd4b2=>{const _0x5bfdaf=_0x3b0d93,_0x3040d8=document[_0x5bfdaf(0xbb)](_0x5bfdaf(0xab));if(!Boolean(_0x3040d8))return;if(_0x3040d8['contains'](_0x4cd4b2[_0x5bfdaf(0xaf)]))IncrementCounters();}),document['addEventListener'](_0x3b0d93(0x9c),_0x31d80e=>{const _0x3cf829=_0x3b0d93;switch(!![]){case _0x31d80e[_0x3cf829(0xa4)]:case _0x31d80e['metaKey']:return;}switch(_0x31d80e['code']){case _0x3cf829(0xac):{if(!Boolean(document[_0x3cf829(0xbb)](_0x3cf829(0xc0))))break;IncrementCounters();break;}case _0x3cf829(0xa3):{if(_0x31d80e[_0x3cf829(0x9a)]&&!_0x31d80e[_0x3cf829(0xa6)]){if(!window[_0x3cf829(0x99)](_0x3cf829(0xa7)))break;scriptDataArray[_0x3cf829(0xba)](scriptID,0x1),localStorage[_0x3cf829(0xc5)]=JSON[_0x3cf829(0xbd)](scriptDataArray),InitScriptData();break;}if(_0x31d80e[_0x3cf829(0x9a)]&&_0x31d80e[_0x3cf829(0xa6)]){if(!window[_0x3cf829(0x99)](_0x3cf829(0xbe)))break;localStorage[_0x3cf829(0x9b)](_0x3cf829(0xc5)),InitScriptData();break;}break;}case _0x3cf829(0xbf):{if(!_0x31d80e[_0x3cf829(0x9a)])break;let _0x54ef2c=parseInt(prompt(_0x3cf829(0xb4),'0'));if(_0x54ef2c>=0x0)scriptData[_0x3cf829(0xa0)]=_0x54ef2c;else scriptData[_0x3cf829(0xa0)]=0x0;break;}}return;});
