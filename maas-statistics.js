// ==UserScript==
// @name			Maas статистика
// @version			1.4
// @description		Отображает статистику работы
// @updateURL		https://raw.githubusercontent.com/saddedmoroz/tools/master/maas-statistics.js
// @downloadURL		https://raw.githubusercontent.com/saddedmoroz/tools/master/maas-statistics.js
// @author			t.me/yreawesome
// @match			https://moderation.avito.ru/line/*
// ==/UserScript==

'use strict';

const _0x4edd2d=_0x2ba9;(function(_0x35d966,_0x2bf3fe){const _0x1ab84f=_0x2ba9,_0x269260=_0x35d966();while(!![]){try{const _0x4d85f0=parseInt(_0x1ab84f(0x189))/0x1+-parseInt(_0x1ab84f(0x177))/0x2*(-parseInt(_0x1ab84f(0x168))/0x3)+parseInt(_0x1ab84f(0x16a))/0x4*(parseInt(_0x1ab84f(0x17f))/0x5)+-parseInt(_0x1ab84f(0x179))/0x6*(parseInt(_0x1ab84f(0x187))/0x7)+parseInt(_0x1ab84f(0x18d))/0x8*(parseInt(_0x1ab84f(0x18c))/0x9)+-parseInt(_0x1ab84f(0x175))/0xa*(-parseInt(_0x1ab84f(0x173))/0xb)+-parseInt(_0x1ab84f(0x167))/0xc*(parseInt(_0x1ab84f(0x183))/0xd);if(_0x4d85f0===_0x2bf3fe)break;else _0x269260['push'](_0x269260['shift']());}catch(_0x527031){_0x269260['push'](_0x269260['shift']());}}}(_0x4e38,0x661c9));const audioTick=new Audio(_0x4edd2d(0x180)),date_time=new Date();let scriptData={'url':window[_0x4edd2d(0x18f)]['href'],'notifyTimeout':0x0,'date':date_time[_0x4edd2d(0x169)](),'hour':date_time[_0x4edd2d(0x171)](),'count':0x0,'cph':0x0},scriptDataArray=new Array(scriptData),scriptID=0x0;function _0x4e38(){const _0x2b3fbf=['663vxlCum','addEventListener','href','confirm','4692919TEEyYk','time','581310RwHhDJ','insertAdjacentHTML','url','236664hiYONI','176koqAPP','stringify','location','hour','innerText','scriptDataArray','click','keyup','<div\x20style=\x22bottom:\x201em;\x20position:\x20fixed;\x20right:\x202em;\x22><span>Итого:\x20</span><span\x20id=\x22count\x22\x20style=\x22padding-right:\x2030px;\x22>0</span><span>За\x20текущий\x20час:\x20</span><span\x20id=\x22cph\x22\x20style=\x22padding-right:\x2030px;\x22>0</span><span>Неактивен:\x20</span><span\x20id=\x22time\x22>0</span></div>','now','parse','altKey','BracketRight','count','metaKey','383076hkNHQi','240Hmmfhf','getDate','436aaYtZS','Space','contains','querySelector','push','target','div.coreDocument-module-content-vaCPV','getHours','setTime','324808TiSkWr','notifyTimeout','140qQQGib','length','9118HpiczL','BracketLeft','6zXAXmU','body','getElementById','ctrlKey','Через\x20сколько\x20секунд\x20неактивности\x20оповещать?\x0a0\x20=\x20без\x20уведомления\x20(по-умолчанию)\x0a600\x20=\x2010\x20минут\x0a1200\x20=\x2020\x20минут','cph','35725onommX','https://flukeout.github.io/simple-sounds/sounds/coin.mp3','date','shiftKey'];_0x4e38=function(){return _0x2b3fbf;};return _0x4e38();}function _0x2ba9(_0x5f4d38,_0x29fc57){const _0x4e3859=_0x4e38();return _0x2ba9=function(_0x2ba9d3,_0x2e8953){_0x2ba9d3=_0x2ba9d3-0x163;let _0x54bdc4=_0x4e3859[_0x2ba9d3];return _0x54bdc4;},_0x2ba9(_0x5f4d38,_0x29fc57);}document[_0x4edd2d(0x17a)][_0x4edd2d(0x18a)]('beforeend',_0x4edd2d(0x195));const span_time=document[_0x4edd2d(0x17b)](_0x4edd2d(0x188)),span_count=document[_0x4edd2d(0x17b)](_0x4edd2d(0x165)),span_cph=document['getElementById']('cph');if(Boolean(localStorage[_0x4edd2d(0x192)])){scriptDataArray=JSON[_0x4edd2d(0x197)](localStorage[_0x4edd2d(0x192)]);let foundData=![];for(let index=0x0;index<scriptDataArray[_0x4edd2d(0x176)];index++){const element=scriptDataArray[index];if(element['url']===scriptData[_0x4edd2d(0x18b)]&&element[_0x4edd2d(0x181)]===scriptData[_0x4edd2d(0x181)]){scriptData=element,scriptID=index,foundData=!![];break;}}!foundData&&(scriptID=scriptDataArray[_0x4edd2d(0x16e)](scriptData)-0x1,localStorage[_0x4edd2d(0x192)]=JSON['stringify'](scriptDataArray));}else localStorage[_0x4edd2d(0x192)]=JSON[_0x4edd2d(0x18e)](new Array(scriptData));let time_seconds=0x0;setInterval(()=>{const _0x3d9dec=_0x4edd2d;span_count[_0x3d9dec(0x191)]=scriptData[_0x3d9dec(0x165)],span_cph['innerText']=scriptData[_0x3d9dec(0x17e)],time_seconds=parseInt((Date[_0x3d9dec(0x196)]()-date_time)/0x3e8);if(time_seconds<0x3c)span_time['innerText']=time_seconds;else span_time[_0x3d9dec(0x191)]=parseInt(time_seconds/0x3c)+':'+time_seconds%0x3c;if(scriptData[_0x3d9dec(0x174)]){if(time_seconds>0x0&&time_seconds%scriptData[_0x3d9dec(0x174)]==0x0)audioTick['play']();}},0x3e8);function IncrementCounters(){const _0x5ce74d=_0x4edd2d;time_seconds=0x0,scriptData[_0x5ce74d(0x165)]+=0x1;const _0x3223d5=date_time[_0x5ce74d(0x171)]();date_time[_0x5ce74d(0x172)](Date['now']()),scriptData[_0x5ce74d(0x17e)]=scriptData[_0x5ce74d(0x190)]==date_time[_0x5ce74d(0x171)]()?scriptData[_0x5ce74d(0x17e)]+0x1:0x1,scriptData[_0x5ce74d(0x190)]=_0x3223d5,scriptDataArray[scriptID]=scriptData,localStorage[_0x5ce74d(0x192)]=JSON[_0x5ce74d(0x18e)](scriptDataArray);}document[_0x4edd2d(0x184)](_0x4edd2d(0x193),_0x39207b=>{const _0x37e43f=_0x4edd2d,_0x35c038=document['querySelector']('button.moderateButton-module-button-AeBfy');if(!Boolean(_0x35c038))return;if(_0x35c038[_0x37e43f(0x16c)](_0x39207b[_0x37e43f(0x16f)]))IncrementCounters();}),document[_0x4edd2d(0x184)](_0x4edd2d(0x194),_0x3255ab=>{const _0x3c66e9=_0x4edd2d;switch(!![]){case _0x3255ab[_0x3c66e9(0x163)]:case _0x3255ab[_0x3c66e9(0x182)]:case _0x3255ab[_0x3c66e9(0x166)]:return;}switch(_0x3255ab['code']){case _0x3c66e9(0x16b):{if(!Boolean(document[_0x3c66e9(0x16d)](_0x3c66e9(0x170))))break;IncrementCounters();break;}case _0x3c66e9(0x178):{if(!_0x3255ab[_0x3c66e9(0x17c)])break;if(!window[_0x3c66e9(0x186)]('Сбросить\x20статистику\x20для\x20текущей\x20модерации?'))break;scriptData={'url':window[_0x3c66e9(0x18f)][_0x3c66e9(0x185)],'notifyTimeout':0x0,'date':date_time[_0x3c66e9(0x169)](),'hour':date_time[_0x3c66e9(0x171)](),'count':0x0,'cph':0x0},scriptDataArray[scriptID]=scriptData,localStorage[_0x3c66e9(0x192)]=JSON[_0x3c66e9(0x18e)](scriptDataArray);break;}case _0x3c66e9(0x164):{if(!_0x3255ab[_0x3c66e9(0x17c)])break;let _0x9e5156=parseInt(prompt(_0x3c66e9(0x17d),'0'));if(_0x9e5156>=0x0)scriptData[_0x3c66e9(0x174)]=_0x9e5156;else scriptData['notifyTimeout']=0x0;break;}}return;});
