// ==UserScript==
// @name			Maas статистика
// @version			1.8
// @description		Отображает статистику работы
// @updateURL		https://raw.githubusercontent.com/saddedmoroz/tools/master/maas-statistics.js
// @downloadURL		https://raw.githubusercontent.com/saddedmoroz/tools/master/maas-statistics.js
// @author			t.me/yreawesome
// @match			https://moderation.avito.ru/line/*
// ==/UserScript==

'use strict';

const _0x30a19d=_0xd5d1;(function(_0x37081f,_0x17abc8){const _0x14b43b=_0xd5d1,_0x3cbb1e=_0x37081f();while(!![]){try{const _0x3d6b83=-parseInt(_0x14b43b(0x12d))/0x1*(parseInt(_0x14b43b(0x12f))/0x2)+-parseInt(_0x14b43b(0x129))/0x3+parseInt(_0x14b43b(0x11e))/0x4+parseInt(_0x14b43b(0x127))/0x5+-parseInt(_0x14b43b(0x115))/0x6*(parseInt(_0x14b43b(0x104))/0x7)+-parseInt(_0x14b43b(0x12c))/0x8+-parseInt(_0x14b43b(0x106))/0x9*(-parseInt(_0x14b43b(0x11a))/0xa);if(_0x3d6b83===_0x17abc8)break;else _0x3cbb1e['push'](_0x3cbb1e['shift']());}catch(_0x321500){_0x3cbb1e['push'](_0x3cbb1e['shift']());}}}(_0x17e7,0x250e6));const audioTick=new Audio(_0x30a19d(0x10d));document[_0x30a19d(0x109)][_0x30a19d(0x114)](_0x30a19d(0x10f),'<div\x20style=\x22bottom:\x201em;\x20position:\x20fixed;\x20right:\x202em;\x22><span>Итого:\x20</span><span\x20id=\x22count\x22\x20style=\x22padding-right:\x2030px;\x22>0</span><span>За\x20текущий\x20час:\x20</span><span\x20id=\x22cph\x22\x20style=\x22padding-right:\x2030px;\x22>0</span><span>Неактивен:\x20</span><span\x20id=\x22time\x22>0</span></div>');const span_time=document[_0x30a19d(0x112)](_0x30a19d(0x121)),span_count=document[_0x30a19d(0x112)](_0x30a19d(0x11c)),span_cph=document['getElementById'](_0x30a19d(0x10e)),date_time=new Date();let scriptData=null,scriptDataArray=null,scriptID=null;function _0x17e7(){const _0x5813f2=['4291CLcotm','confirm','18RwDCqK','getHours','innerText','body','scriptDataArray','splice','notifyTimeout','https://flukeout.github.io/simple-sounds/sounds/coin.mp3','cph','beforeend','hour','Через\x20сколько\x20секунд\x20неактивности\x20оповещать?\x0a0\x20=\x20без\x20уведомления\x20(по-умолчанию)\x0a600\x20=\x2010\x20минут\x0a1200\x20=\x2020\x20минут','getElementById','contains','insertAdjacentHTML','774YaqBxf','querySelector','ctrlKey','altKey','parse','2425360VaGeXc','metaKey','count','Сбросить\x20статистику\x20для\x20ВСЕХ\x20модерации?','315392kcfhAL','BracketLeft','Space','time','target','url','code','stringify','shiftKey','103750czuqBJ','div.coreDocument-module-content-vaCPV','617358iulIOX','removeItem','push','302152AfIlvK','8aRIexB','getDate','27564vUqaDr','setTime','button.moderateButton-module-button-AeBfy','length','now'];_0x17e7=function(){return _0x5813f2;};return _0x17e7();}InitScriptData();function _0xd5d1(_0x544233,_0x3a0026){const _0x17e79c=_0x17e7();return _0xd5d1=function(_0xd5d15,_0x2c1342){_0xd5d15=_0xd5d15-0x100;let _0x39750d=_0x17e79c[_0xd5d15];return _0x39750d;},_0xd5d1(_0x544233,_0x3a0026);}let time_seconds=0x0;setInterval(()=>{const _0x284c5b=_0x30a19d;if(!Boolean(scriptData))return;span_count['innerText']=scriptData[_0x284c5b(0x11c)],span_cph[_0x284c5b(0x108)]=scriptData[_0x284c5b(0x10e)],time_seconds=parseInt((Date[_0x284c5b(0x103)]()-date_time)/0x3e8);if(time_seconds<0x3c)span_time['innerText']=time_seconds;else span_time[_0x284c5b(0x108)]=parseInt(time_seconds/0x3c)+':'+time_seconds%0x3c;if(scriptData['notifyTimeout']){if(time_seconds>0x0&&time_seconds%scriptData[_0x284c5b(0x10c)]==0x0)audioTick['play']();}},0x3e8);function InitScriptData(){const _0x51339d=_0x30a19d;scriptData={'url':window['location']['href'],'notifyTimeout':0x0,'date':date_time[_0x51339d(0x12e)](),'hour':date_time[_0x51339d(0x107)](),'count':0x0,'cph':0x0};if(Boolean(localStorage['scriptDataArray'])){scriptDataArray=JSON[_0x51339d(0x119)](localStorage[_0x51339d(0x10a)]);let _0x488ba6=![];for(let _0x5a0a3c=0x0;_0x5a0a3c<scriptDataArray[_0x51339d(0x102)];_0x5a0a3c++){const _0xb33fb3=scriptDataArray[_0x5a0a3c];if(_0xb33fb3['url']===scriptData[_0x51339d(0x123)]){scriptData=_0xb33fb3,scriptID=_0x5a0a3c,_0x488ba6=!![];break;}}!_0x488ba6&&(scriptID=scriptDataArray[_0x51339d(0x12b)](scriptData)-0x1,localStorage[_0x51339d(0x10a)]=JSON['stringify'](scriptDataArray));}else scriptID=0x0,scriptDataArray=new Array(scriptData),localStorage[_0x51339d(0x10a)]=JSON['stringify'](scriptDataArray);}function IncrementCounters(){const _0x3e29a8=_0x30a19d;time_seconds=0x0,scriptData[_0x3e29a8(0x11c)]+=0x1;const _0x330bc2=date_time['getHours']();date_time[_0x3e29a8(0x100)](Date['now']()),scriptData['cph']=scriptData['hour']==date_time['getHours']()?scriptData[_0x3e29a8(0x10e)]+0x1:0x1,scriptData[_0x3e29a8(0x110)]=_0x330bc2,scriptDataArray[scriptID]=scriptData,localStorage[_0x3e29a8(0x10a)]=JSON['stringify'](scriptDataArray);}document['addEventListener']('click',_0x548d66=>{const _0x1d3a32=_0x30a19d,_0x336e28=document['querySelector'](_0x1d3a32(0x101));if(!Boolean(_0x336e28))return;if(_0x336e28[_0x1d3a32(0x113)](_0x548d66[_0x1d3a32(0x122)]))IncrementCounters();}),document['addEventListener']('keyup',_0x1dcd90=>{const _0x58c955=_0x30a19d;switch(!![]){case _0x1dcd90[_0x58c955(0x118)]:case _0x1dcd90[_0x58c955(0x11b)]:return;}switch(_0x1dcd90[_0x58c955(0x124)]){case _0x58c955(0x120):{if(!Boolean(document[_0x58c955(0x116)](_0x58c955(0x128))))break;IncrementCounters();break;}case _0x58c955(0x11f):{if(_0x1dcd90[_0x58c955(0x117)]&&!_0x1dcd90['shiftKey']){if(!window['confirm']('Сбросить\x20статистику\x20для\x20текущей\x20модерации?'))break;scriptDataArray[_0x58c955(0x10b)](scriptID,0x1),localStorage[_0x58c955(0x10a)]=JSON[_0x58c955(0x125)](scriptDataArray),InitScriptData();break;}if(_0x1dcd90[_0x58c955(0x117)]&&_0x1dcd90[_0x58c955(0x126)]){if(!window[_0x58c955(0x105)](_0x58c955(0x11d)))break;localStorage[_0x58c955(0x12a)](_0x58c955(0x10a)),InitScriptData();break;}break;}case'BracketRight':{if(!_0x1dcd90[_0x58c955(0x117)])break;let _0x1e7274=parseInt(prompt(_0x58c955(0x111),scriptData[_0x58c955(0x10c)]));if(_0x1e7274>=0x0)scriptData['notifyTimeout']=_0x1e7274;else scriptData[_0x58c955(0x10c)]=0x0;scriptDataArray[scriptID]=scriptData,localStorage[_0x58c955(0x10a)]=JSON[_0x58c955(0x125)](scriptDataArray);break;}}return;});
