// ==UserScript==
// @name			Maas статистика
// @version			1.10
// @description		Отображает статистику работы
// @updateURL		https://raw.githubusercontent.com/saddedmoroz/tools/master/maas-statistics.js
// @downloadURL		https://raw.githubusercontent.com/saddedmoroz/tools/master/maas-statistics.js
// @author			saddedmoroz
// @match			https://moderation.avito.ru/line/*
// ==/UserScript==

'use strict';

const _0x12665f=_0x2ae6;function _0x559b(){const _0x122b95=['match','location','parse','cph','metaKey','27615523BGcwOk','59142thWQMh','4uPdJPp','shiftKey','Сбросить\x20статистику\x20для\x20текущей\x20модерации?','insertAdjacentHTML','getElementById','push','setTime','ctrlKey','keyup','133769MUphdm','confirm','132yglvQq','scriptDataArray','stringify','div.coreDocument-module-content-vaCPV','70086eHyyxh','now','count','querySelector','time_local','BracketLeft','9SHsmUy','splice','hour','7MjKrBE','code','textContent','toLocaleTimeString','BracketRight','length','4893968NbbCNM','12025510ZVHrFh','495OLVieE','<div\x20style=\x22bottom:\x201em;\x20position:\x20fixed;\x20right:\x202em;\x22><span\x20id=\x22time_local\x22\x20style=\x22padding-right:\x2030px;\x20color:\x20#a0a0a0\x22></span><span>Итого:\x20</span><span\x20id=\x22count\x22\x20style=\x22padding-right:\x2030px;\x22>0</span><span>За\x20текущий\x20час:\x20</span><span\x20id=\x22cph\x22\x20style=\x22padding-right:\x2030px;\x22>0</span><span>Неактивен:\x20</span><span\x20id=\x22time\x22>0</span></div>','addEventListener','body','Сбросить\x20статистику\x20для\x20ВСЕХ\x20модерации?','2328kPJAwC','40249nMasyT','getHours','Space','beforeend','url','notifyTimeout'];_0x559b=function(){return _0x122b95;};return _0x559b();}(function(_0x222f62,_0x13b70a){const _0x41026c=_0x2ae6,_0x214d8c=_0x222f62();while(!![]){try{const _0x34811e=-parseInt(_0x41026c(0xf1))/0x1*(-parseInt(_0x41026c(0xe8))/0x2)+parseInt(_0x41026c(0xf7))/0x3*(parseInt(_0x41026c(0xf3))/0x4)+parseInt(_0x41026c(0xd5))/0x5*(parseInt(_0x41026c(0xe7))/0x6)+-parseInt(_0x41026c(0x100))/0x7*(-parseInt(_0x41026c(0xd3))/0x8)+parseInt(_0x41026c(0xfd))/0x9*(parseInt(_0x41026c(0xd4))/0xa)+parseInt(_0x41026c(0xdb))/0xb*(-parseInt(_0x41026c(0xda))/0xc)+-parseInt(_0x41026c(0xe6))/0xd;if(_0x34811e===_0x13b70a)break;else _0x214d8c['push'](_0x214d8c['shift']());}catch(_0x4f99fe){_0x214d8c['push'](_0x214d8c['shift']());}}}(_0x559b,0xf2ccb));const audioTick=new Audio('https://flukeout.github.io/simple-sounds/sounds/coin.mp3');document[_0x12665f(0xd8)][_0x12665f(0xeb)](_0x12665f(0xde),_0x12665f(0xd6));const span_time_local=document['getElementById'](_0x12665f(0xfb)),span_time=document['getElementById']('time'),span_count=document[_0x12665f(0xec)](_0x12665f(0xf9)),span_cph=document[_0x12665f(0xec)](_0x12665f(0xe4)),date_time=new Date(),time_local=new Date();let scriptData=null,scriptDataArray=null,scriptID=null;InitScriptData();let time_seconds=0x0;setInterval(()=>{const _0x559f57=_0x12665f;if(!Boolean(scriptData))return;span_count['textContent']=scriptData[_0x559f57(0xf9)],span_cph[_0x559f57(0x102)]=scriptData[_0x559f57(0xe4)],time_local[_0x559f57(0xee)](Date['now']()),span_time_local[_0x559f57(0x102)]=time_local[_0x559f57(0x103)](),time_seconds=parseInt((Date[_0x559f57(0xf8)]()-date_time)/0x3e8);if(time_seconds<0x3c)span_time['textContent']=time_seconds;else span_time[_0x559f57(0x102)]=parseInt(time_seconds/0x3c)+':'+time_seconds%0x3c;if(scriptData['notifyTimeout']){if(time_seconds>0x0&&time_seconds%scriptData[_0x559f57(0xe0)]==0x0)audioTick['play']();}},0x3e8);function _0x2ae6(_0x227fe1,_0xf5771){const _0x559bba=_0x559b();return _0x2ae6=function(_0x2ae69c,_0x136a5e){_0x2ae69c=_0x2ae69c-0xd1;let _0x2f94f9=_0x559bba[_0x2ae69c];return _0x2f94f9;},_0x2ae6(_0x227fe1,_0xf5771);}function InitScriptData(){const _0x274229=_0x12665f;let _0x4c4dbc=window[_0x274229(0xe2)]['href'][_0x274229(0xe1)](/line\/.+?\//gi);if(Boolean(_0x4c4dbc))_0x4c4dbc=_0x4c4dbc[0x0];else _0x4c4dbc='';scriptData={'url':_0x4c4dbc,'notifyTimeout':0x0,'hour':date_time[_0x274229(0xdc)](),'count':0x0,'cph':0x0};if(Boolean(localStorage['scriptDataArray'])){scriptDataArray=JSON[_0x274229(0xe3)](localStorage['scriptDataArray']);let _0xdf42d=![];for(let _0xfc7224=0x0;_0xfc7224<scriptDataArray[_0x274229(0xd2)];_0xfc7224++){const _0x5a2d32=scriptDataArray[_0xfc7224];if(_0x5a2d32[_0x274229(0xdf)]===scriptData[_0x274229(0xdf)]){scriptData=_0x5a2d32;if(scriptData['hour']!=date_time['getHours']())scriptData[_0x274229(0xe4)]=0x0;scriptID=_0xfc7224,_0xdf42d=!![];break;}}!_0xdf42d&&(scriptID=scriptDataArray[_0x274229(0xed)](scriptData)-0x1,localStorage[_0x274229(0xf4)]=JSON[_0x274229(0xf5)](scriptDataArray));}else scriptID=0x0,scriptDataArray=new Array(scriptData),localStorage[_0x274229(0xf4)]=JSON[_0x274229(0xf5)](scriptDataArray);}function IncrementCounters(){const _0x393e58=_0x12665f;time_seconds=0x0,scriptData['count']+=0x1;const _0x2582a9=date_time[_0x393e58(0xdc)]();date_time['setTime'](Date['now']()),scriptData[_0x393e58(0xe4)]=scriptData[_0x393e58(0xff)]==date_time[_0x393e58(0xdc)]()?scriptData[_0x393e58(0xe4)]+0x1:0x1,scriptData[_0x393e58(0xff)]=_0x2582a9,scriptDataArray[scriptID]=scriptData,localStorage[_0x393e58(0xf4)]=JSON['stringify'](scriptDataArray);}document[_0x12665f(0xd7)]('click',_0x130f21=>{const _0x2b1515=_0x12665f,_0x137cc6=document[_0x2b1515(0xfa)]('button.moderateButton-module-button-AeBfy');if(!Boolean(_0x137cc6))return;if(_0x137cc6['contains'](_0x130f21['target']))IncrementCounters();}),document[_0x12665f(0xd7)](_0x12665f(0xf0),_0x5c9e79=>{const _0x1cfcaf=_0x12665f;switch(!![]){case _0x5c9e79['altKey']:case _0x5c9e79[_0x1cfcaf(0xe5)]:return;}switch(_0x5c9e79[_0x1cfcaf(0x101)]){case _0x1cfcaf(0xdd):{if(!Boolean(document[_0x1cfcaf(0xfa)](_0x1cfcaf(0xf6))))break;IncrementCounters();break;}case _0x1cfcaf(0xfc):{if(_0x5c9e79[_0x1cfcaf(0xef)]&&!_0x5c9e79[_0x1cfcaf(0xe9)]){if(!window[_0x1cfcaf(0xf2)](_0x1cfcaf(0xea)))break;scriptDataArray[_0x1cfcaf(0xfe)](scriptID,0x1),localStorage[_0x1cfcaf(0xf4)]=JSON[_0x1cfcaf(0xf5)](scriptDataArray),InitScriptData();break;}if(_0x5c9e79[_0x1cfcaf(0xef)]&&_0x5c9e79[_0x1cfcaf(0xe9)]){if(!window[_0x1cfcaf(0xf2)](_0x1cfcaf(0xd9)))break;localStorage['removeItem'](_0x1cfcaf(0xf4)),InitScriptData();break;}break;}case _0x1cfcaf(0xd1):{if(!_0x5c9e79[_0x1cfcaf(0xef)])break;let _0x45e8ef=parseInt(prompt('Через\x20сколько\x20секунд\x20неактивности\x20оповещать?\x0a0\x20=\x20без\x20уведомления\x20(по-умолчанию)\x0a600\x20=\x2010\x20минут\x0a1200\x20=\x2020\x20минут',scriptData['notifyTimeout']));if(_0x45e8ef>=0x0)scriptData[_0x1cfcaf(0xe0)]=_0x45e8ef;else scriptData['notifyTimeout']=0x0;scriptDataArray[scriptID]=scriptData,localStorage['scriptDataArray']=JSON[_0x1cfcaf(0xf5)](scriptDataArray);break;}}return;});
